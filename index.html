<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">

        <!-- Meta-information -->
        <title>A Cloud2Class Presentation : Practical Ansible</title>
        <meta name="description" content="Cloud2Class training material is brought to you by Bright Process Ltd">
        <meta name="author" content="Bright Process Ltd">

        <meta name="apple-mobile-web-app-capable" content="yes" />
        <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
        <link rel="stylesheet" href="css/reveal.css">
        <link rel="stylesheet" href="css/theme/beige.css" id="theme">
        <link rel="stylesheet" href="lib/css/zenburn.css">
        <link rel="stylesheet" href="css/cloud2class.css">

        <!-- Printing and PDF exports -->
        <script>
            var link = document.createElement( 'link' );
            link.rel = 'stylesheet';
            link.type = 'text/css';
            link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
            document.getElementsByTagName( 'head' )[0].appendChild( link );
        </script>

        <!--[if lt IE 9]>
        <script src="lib/js/html5shiv.js"></script>
        <![endif]-->
    </head>
    <body>
        <div class="reveal">

            <!-- Any section element inside of this container is displayed as a slide -->
            <div class="slides">

                <!--Footer for all slides -->
                <div class='footer'>
                    content by <a href="https://cloud2class.com"><b>Cloud2Class</b></a>
                    &nbsp; -  &nbsp;workshop brought to you by <a href="http://www.equalexperts.com/"><b>Equal Experts</b></a>
                </div>
                <!-- Start of Content -->


                <!-- Frontpage: Practical Ansible -->
                <!-- Synopsis: Half day practical workshop -->
                <!-- Level: Beginner -->
                <section>
                    <h3>Welcome to</h3>
                    <h1 class="col_aid_five lighttext">Practical Ansible</h1>
                    <h3>A half day workshop</h3>
                    <h3>designed to get you up and running</h3>
                    <hr>
                    <img align=bottom valign=bottom style="padding: 5px; background: white;max-width: 40%; border-color: #0B486B;" src="images/sponsor-Equal-Experts.jpg">
                    <p/>
                </section>


                <!-- Module: Introduction -->
                <!-- Description: Introduction to the workshop -->
                <section>

                    <!-- Introduction: Splash page -->
                    <section>
                        <aside class="notes">
                            <br>Previous experience
                            <br>Configuration Management
                            <br>We will run through
                            <br> - Who we are
                            <br> - the structure of the workshop
                            <br> - what you should get out of the workshop
                        </aside>
                        <h2 class="col_aid_five lighttext">Introduction</h2>
                        <p>
                        <p><img style="max-height: 500px; border-color: #0B486B;" src="images/ansible-logo.png">
                    </section>
                </section>


                <!-- Topic Section: Who We are -->
                <!-- Description: Introducing the companies -->
                <section data-background="#A8DBA8">

                    <!-- Cloud2Class introduction -->
                    <section data-transition='fade'>
                        <h3 class="col_aid_four lighttext">Who We Are</h3>
                        <aside class="notes">
                            default
                        </aside>
                        <p>&nbsp;</p>

                            <p>The workshop is supplied and provisioned by...</p>
                            <ul>
                                <li><b>Equal Experts</b></li>
                            </ul>
                            <p>and content and delivery is provided by...</p>
                            <ul>
                                <li><b>Cloud2Class</b></li>
                            </ul>
                    </section>
                    <section data-transition='fade'>
                        <h3>Equal Experts</h3>
                        <a href="www.equalexperts.com">www.equalexperts.com</a>
                        <hr>
                        <p>Making Software. Better.</p>
                        <p>Simple solutions to big business problems.</p>
                        <img align=bottom valign=bottom style="padding: 5px; background: white;max-width: 40%; border-color: #0B486B;" src="images/sponsor-Equal-Experts.jpg">
                    </section>
                    <section data-transition='fade'>
                        <h3>Cloud2Class</h3>
                        <a href="www.cloud2class.com">www.cloud2class.com</a>
                        <hr>
                        <p>From the Cloud to the Classroom</p>
                        <p>Virtual training environments, content and trainers</p>
                        <img style="max-width: 20%; border-color: #0B486B;" src="images/GreenlogoRGB.png">
                    </section>
                </section>


                <!-- Topic Section: What is this? -->
                <!-- Description: How the workshop is going to work -->
                <section data-background="#A8DBA8">

                    <!-- The workshop: Good points -->
                    <section data-transition='fade'>
                        <aside class="notes">
                            The key attributes of the workshop
                        </aside>
                        <h3 class="col_aid_four lighttext">What is this?</h3>
                        <p>
                        <div class="quote">A fast-paced practical workshop</div>
                        <br>
                        <div class="fragment">
                            <ul>
                                <li>Technology Introduction</li>
                                <li>Team based</li>
                                <li>Collaborative</li>
                                <li>Minimum to get you up and running</li>
                                <li>Resources to carry on</li>
                            </ul>
                        </div>
                    </section>
                        
                    <!-- The workshop: Bad points -->
                    <section data-transition='fade'>
                        <aside class="notes">
                            default
                        </aside>
                        <h3 class="col_aid_four lighttext">What is this?</h3>
                        <p>
                        <div class="quote">But this means...</div>
                        <br>
                        <div class="fragment">
                            <ul>
                                <li>Lot's to cover</li>
                                <li>Won't cover everything</li>
                                <li>Less detail</li>
                                <li>Rough edges</li>
                            </ul>
                        </div>
                    </section>
                </section>


                <!-- Description: Structure -->
                <section data-background="#A8DBA8">

                    <!-- The workshop: Good points -->
                    <section>
                        <h3 class="col_aid_four lighttext">Structure</h3>
                        <p>&nbsp;
                            <ul>
                                <li>Team-based</li>
                                <li>Goals</li>
                                <li>3 Sections</li>
                                <li>Winning team gets a super-secret prize</li>
                            </ul>
                    </section>
                        

                    <section>
                        <aside class="notes">
                            ChatStop :making sure it makes sense, questions, working out how the information you learned can hekp you reach your goals
                            <br>Team-time is collaboration time. Put it into practise.
                            <br>Ask me to help out at any time
                            <br>I wont type the commands for you, but i will point you in the right direction.
                        </aside>
                        <b>Each section looks broadly like this...</b>
                        <div class=barcontainer >
                            <div class=bar1>Theory</div>
                            <div class=bar3>Demo</div>
                            <div class=bar1>Breakdown</div>
                            <div class=bar3>ChatStop</div>
                            <div class=bar1>Team-Time</div>
                        </div>
                    </font>
                    </section>

                </section>


                <!-- Description: Getting to Know you -->
                <section data-background="#A8DBA8">

                    <!-- Teams and Scoreboards -->
                    <section data-transition='fade'>
                        <aside class="notes">
                            <br>Why the matterhorn?
                            <br>teamwork
                            <br>accomplishing something
                        </aside>
                        <h3 class="col_aid_four lighttext">Teamwork and Goals</h3>
                        <div class="quote">There are no losers: Unless you're the winner</div>
                        <img style="max-width: 70%; border-color: #0B486B;" src="images/climbing-the-matterhorn.jpg">
                    </section>
                    <section data-transition='fade'>
                        <aside class="notes">
                            <br>Lets turn it from an effort into a walk in the park
                            <br>Let's get to know each other
                            <br>- names
                            <br>- expectations
                            <br>- favourite movie
                        </aside>
                        <h3 class="col_aid_four lighttext">Teamwork and Goals</h3>
                        <div class="quote">There are no losers: Unless you're the winner</div>
                        <img style="max-width: 70%; border-color: #0B486B;" src="images/walk-in-the-park.jpg">
                    </section>
                    <section>
                        <aside class="notes">
                            write down kanbanflow credentials
                        </aside>
                        <h3>Kanbanflow</h3>
                        We will use Kanbanflow is the tool to...
                        <ul>
                            <li>Track reference information</li>
                            <li>Store credentials</li>
                            <li>gather feedback</li>
                        </ul>
                    </section>
                    <section>
                        <aside class="notes">
                            <br>Log on to cloud2class
                            <br>explain
                        </aside>
                        <h3>Training Environment</h3>
                        <img style="max-width: 100%; border-color: #0B486B;" src="images/c2c-arch.jpg">
                    </section>

                </section>


                <!-- Module: Theory 1 -->
                <!-- Description: Components and Concepts -->
                <section>

                    <!-- Introduction: Splash page -->
                    <section>
                        <h2 class="col_aid_five lighttext">A little bit of theory: 1</h2>
                        <div class=barcontainer >
                            <img style="max-width: 70%; border-color: #0B486B;" src="images/ansible-logo-word.png">
                        </div>
                        <p>What is Ansible</p>
                        <p>Configuration Management</p>
                        <p>Ad-Hoc commands</p>
                        <p>Configuration files</p>
                        <p>
                    </section>
                </section>

                <section data-background="#303030" data-background-transition='fade'>
                    <section class='lighttext' id="goal-1">
                        <h3 class='red lighttext'>goal : The Webserver</h3>
                        <b>Summary:</b> Install and configure a webserver to talk to a database server using Ansible ad-hoc mode
                        <hr>
                        <p>You will need to install the prescribed software, deploy some configuration files, and potentially restart services
                        <hr>
                        <p>If the goal is met, you will be able to view one of these URLs
                        <p><a href="https://training.cloud2class.com/blue.php">BLUE</a> or <a href="https://training.cloud2class.com/red.php">RED</a> 
                    </section>
                    <section class='lighttext'>
                        <p class="exerciseTitleGreen">Part 1 :</p>
                        <div class="exerciseBlock">
                            <p>Install the following packages on the server
                            <b>red/blue-webnode-1</b></p>
                            <pre><code data-trim contenteditable>
                            nginx, php5-cli, php5-mysql, php5-fpm, python-mysqldb
                            </code></pre>
                        </div>
                        <p class="exerciseTitleGreen">Part 2 :</p>
                        <div class="exerciseBlock">
                            <p>Deploy the following two files to <b>red/blue-webnode-1</b></p>
                            <pre><code data-trim contenteditable>
                                /opt/lesson/index.php - /usr/share/nginx/html/[red|blue].php
/opt/lesson/nginx-front - /etc/nginx/sites-enabled/default
                            </code></pre>
                        </div>
                    </section>
                    <section class='lighttext'>
                        <p class="exerciseTitleGreen">Hints and Tips</p>
                        <div class="exerciseBlock">
                            <ul>
                                <li>You will need a functioning hostlist</li>
                                <li>and the correct modules</li>
                                <li>Check the module listings
                            </ul>
                        </div>
                        <p>
                        <div class="exerciseBlock">
                            You will find supporting files ( in /opt/lesson )
                        </div>
                    </section>
                </section>


                <!-- Topic Section: Introducing Ansible -->
                <!-- Description: General introduction and quotes -->
                <section data-background="#A8DBA8">

                    <!-- According to Wikipedia -->
                    <section>
                        <aside class="notes">
                        </aside>
                        <h3 class="col_aid_four lighttext">What is Ansible?</h3>
                        <div class="quote">According to Wikipedia</div>
                        <hr>
                        <ul>
                            <li>Minimal in nature. Management systems should not impose additional dependencies on the environment.</li>
                            <li>Consistent</li>
                            <li>Secure. Ansible does not deploy vulnerable agents to nodes. Only OpenSSH is required, which is already critically tested.</li>
                        </ul>
                    </section>
                    <section>
                        <ul>
                            <li>Highly reliable. The idempotent resource model is applied to deployment to prevent side-effects from re-running scripts.</li>
                            <li>Low learning curve. Playbooks use an easy and descriptive language based on YAML.</li>
                        </ul>
                    </section>

                    <!-- According to Ansible -->
                    <section>
                        <aside class="notes">
                        </aside>
                        <div class="quote">According to Ansible</div>
                        <hr>
                        Ansible is an Open Source tool that can be used for...
                        <ul>
                            <li>Configuration Management</li>
                            <li>Orchestration</li>
                            <li>Deployment</li>
                        </ul>
                    </section>
                    <section>
                        <b>Ansible strives to give you:</b>
                        <ul>
                            <li>basic ability to blast out commands to remote systems</li>
                            <li>basic ability to blast out resource instructions to a remote system</li>
                            <li>ability to trigger some configuration management automation to run</li>
                            <li>some basic ordering of what system should configure before some other system</li>
                            <li>the ability to build a general purpose workflow system, such as a pipeline of dependent steps in an IT process</li>
                        <li>That last one is awesome
                    </ul>
                    </section>
                </section>


                <!-- Description: Use-Cases -->
                <section data-background="#A8DBA8">

                    <!-- Use-cases -->
                    <section>
                        <aside class="notes">
                        </aside>
                        <h3 class="col_aid_four lighttext">Concepts</h3>
                        <div class="quote">Configuration Management</div>
                        <hr>
                        Enforcing a defined state upon a running machine in a controllable, repeatable manner.
                        <p>e.g. Software loadout, user management, service configuration (haproxy, ntp), OS configuration (kernel parameters), scheduled jobs, maintenance
                        <hr>
                        Software examples: Puppet, Salt, Chef, Ansible
                    </section>
                    <section>
                        <img style="max-width: 70%; border-color: #0B486B;" src="images/diag-config-mgmt.jpg">
                    </section>
                    <section>
                        <div class="quote">Orchestration</div>
                        <hr>
                        Performing operations on machines in relation to each other
                        <p>"...the automated arrangement, coordination, and management of complex computer systems"
                        <p>e.g. Cluster management (MongoDB, ElasticSearch), Complex or ordered installations, Multi-step application deployments
                    </section>
                </section>

                <section data-background="#A8DBA8">
                    <section>
                        <h3 class="col_aid_four lighttext">Why is it so good</h3>
                        <hr>
                        <ul>
                            <li>Low learning curve</li>
                            <li>Ansible learned a lot from other failures</li>
                            <li>Powerful</li>
                    </section>
                    <section>
                        <img style="max-width: 90%; border-color: #0B486B;" src="images/ansible-meme1.jpg">
                    </section>
                </section>

                <section data-background="#A8DBA8">
                    <section>
                        <aside class=notes>
                            Two modes of operation
                        </aside>
                        <h3 class="col_aid_four lighttext">Ad-Hoc mode</h3>
                        <hr>
                        Ad-hoc is used to perform actions on multiple nodes at once
                        <pre><code data-trim contenteditable>
                            ansible all -m ping

ansible webserver -s -m apt -a "pkg=openssl state=latest"

:w
ansible prod-lb -a "cat /etc/haproxy/haproxy.conf"
                        </code></pre>
                    </section>
                    <section>
                        <div class="quote">Components</div>
                        <hr>
                        <ul>
                            <li>Transport: ssh</li>
                            <li>User escalation: sudo</li>
                            <li>Ansible confguration</li>
                            <li>Host selection: Inventory</li>
                            <li>Module Library</li>
                        </ul>
                    </section>
                </section>
                <section data-background="#A8DBA8">
                    <section>
                        <aside class=notes>
                        </aside>
                        <h3 class="col_aid_four lighttext">Transport SSH</h3>
                        <div class="quote">Main points</div>
                        <ul>
                            <li>SSH or Paramiko</li>
                            <li>pre-shared keys</li>
                            <li>a local user</li>
                            </li>a remote user</li>
                        </ul>
                        <hr>
                        <div class="quote">Tools of the trade</div>
                        <ul>
                            <li>ssh-keygen</li>
                            <li>ssh-keyscan</li>
                            <li>~/.ssh/authorized_keys</li>
                        </ul>
                    </section>
                </section>
                <section data-background="#A8DBA8">
                    <section>
                        <aside class=notes>
                        </aside>
                        <h3 class="col_aid_four lighttext">User Escalation: sudo</h3>
                        <hr>
                        User accounts must have the capability to perform their respective actions
                        <p>Generally this means a dedicated configuration account with sudo access
                    </section>
                </section>
                <section data-background="#A8DBA8">
                    <section>
                        <aside class=notes>
                            <br>your accounts are not root
                            <br>create a local directory
                            <br>take a look at the local .cfg
                        </aside>
                        <h3 class="col_aid_four lighttext">Ansible Configuration</h3>
                        <div class="quote">ansible.cfg is looked for with the following priority:</div>
                        <hr>
                        <ul>
                            <li>ANSIBLE_CONFIG (an environment variable)</li>
                            <li>ansible.cfg (in the current directory)</li>
                            <li>.ansible.cfg (in the home directory)</li>
                            <li>/etc/ansible/ansible.cfg</li>
                        </ul>
                    </section>
                    <section>
                        <aside class=notes>
                            Define which nodes you are goin to operate on
                            <br>and groupings of nodes
                            <br>show a static inventory file
                        </aside>
                        <h3 class="col_aid_four lighttext">Inventory files</h3>
                        <div class="quote">Static :</div>
                        <p>
                        flatfiles containing lists of
                        <ul>
                            <li>Hosts - FQDN, hostname, or IP</li>
                            <li>Variables</li>
                            <li>Groups - webserver, database, loadbalancers</li>
                        </ul>
                    </section>
                    <section>
                        <div class="quote">Dynamic :</div>
                        <p>Any executable that can return JSON host objects
                        <p>Provides integration with...
                        <p> "Cobbler AWS BSD Jails
DigitalOcean
Google Compute Engine
Linode
OpenShift
OpenStack Nova
Red Hat's SpaceWalk
Vagrant
Zabbix
Bash"
                        
                    </section>
                </section>
                <section data-background="#A8DBA8">
                    <section>
                        <aside class=notes>
                        </aside>
                        <h3 class="col_aid_four lighttext">Module Library</h3>
                        <hr>
                        A collection of functions that provide Ansibles functionality
                        <p>
                        <ul>
                            <li>Ansible ships with over 200 modules</li>
                            <li>divided into Core (maintained by Ansible)</li>
                            <li>and Extra (community)</li>
                            <li>All return JSON</li>
                        </ul>
                    </section>
                    <section>
                        <pre><code data-trim contenteditable>
                         ansible-doc -l   (list all modules)

ls /usr/share/ansible (show module categories)

http://docs.ansible.com/ansible/modules_by_category.html (online index)

ansible-doc [module] ("man-page" for a module)
                        </code>
                        </pre>
                        <p>
                        <pre><code data-trim contenteditable>
ansible all -m [module]
ansible all -m [module] -a [key=value key=value]
ansible all -m [module] -a [whole string]
                        </code>
                        </pre>
                    </section>
                </section>
                <section>
                    <h3 class="col_aid_four lighttext">ChatStop</h3>
                        <img style="max-width: 90%; border-color: #0B486B;" src="images/walk-in-the-park.jpg">
                </section>



                <section>



                Part 2:
                A little bit of theory part 2

                Playbooks
                Variables


                Pipelining
                application deployment
                ochestration examples
            </section>

            <section>
                <h2 class="col_aid_five lighttext">Reference</h2>
                <p>
                <p>Installation - <a href="stuff">Cheatsheet</a> - <a href="http://docs.ansible.com/ansible/intro_installation.html">docs.ansible.com</a></p>


                <!-- End of Content -->
            </div>
        </div>

        <script src="lib/js/head.min.js"></script>
        <script src="js/reveal.js"></script>

        <script>

            // Full list of configuration options available at:
            // https://github.com/hakimel/reveal.js#configuration
            Reveal.initialize({
                                parallaxBackgroundImage: "images/green-cloud.jpg",

                                     // Parallax background size
                                parallaxBackgroundSize: "3000px 3000px",
                history: true,
                center: false,
                previewLinks: true,

                transition: 'slide', // none/fade/slide/convex/concave/zoom                transition: 'slide', // none/fade/slide/convex/concave/zoom

                // Optional reveal.js plugins
                dependencies: [
                    { src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
                    { src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
                    { src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
                    { src: 'plugin/highlight/highlight.js', async: true, condition: function() { return !!document.querySelector( 'pre code' ); }, callback: function() { hljs.initHighlightingOnLoad(); } },
                    { src: 'plugin/zoom-js/zoom.js', async: true },
                    { src: 'plugin/notes/notes.js', async: true }
                ]
            });

        </script>

    </body>
</html>


